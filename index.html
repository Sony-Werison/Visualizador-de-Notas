<!DOCTYPE html>
<html lang="pt-BR" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizador de Notas do Notion</title>
    <!-- Meta tags para "Adicionar à Tela Inicial" (PWA) -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Notion Viewer">
    <meta name="apple-mobile-web-app-title" content="Notion Viewer">
    <meta name="theme-color" content="#191919">
    <meta name="msapplication-navbutton-color" content="#191919">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-starturl" content="/">
    <!-- Manifesto do Web App e Favicons -->
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="apple-touch-icon"
        href="https://raw.githubusercontent.com/Sony-Werison/Visualizador-de-Notas-Notion/95f7d88494945691deb8f5fe339eaad080b56f19/favicon.png">
    <link rel="shortcut icon"
        href="https://raw.githubusercontent.com/Sony-Werison/Visualizador-de-Notas-Notion/95f7d88494945691deb8f5fe339eaad080b56f19/favicon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Poppins:wght@400;500;700&family=Merriweather:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --font-sans: 'Inter', sans-serif;
            --font-serif: 'Merriweather', serif;
            --font-display: 'Poppins', sans-serif;
            /* Variável para a altura real da viewport */
            --app-height: 100vh;
        }

        body {
            font-family: var(--font-sans);
            touch-action: pan-y;
            /* Remover overflow: hidden para permitir rolagem e interação */
            /* overflow: hidden; */
        }

        #app {
            height: var(--app-height);
        }

        /* Usa a altura real */
        .font-sans {
            font-family: var(--font-sans);
        }

        .font-serif {
            font-family: var(--font-serif);
        }

        .font-display {
            font-family: var(--font-display);
        }

        .leading-extra {
            line-height: 2.5 !important;
        }

        .slide-content {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .settings-panel,
        .history-sidebar,
        #bible-sidebar {
            transition: transform 0.3s ease-in-out;
        }

        .settings-panel {
            transform: translateX(100%);
        }

        .settings-panel.open {
            transform: translateX(0);
        }

        .history-sidebar,
        #bible-sidebar {
            transform: translateX(-100%);
        }

        .history-sidebar.open,
        #bible-sidebar.open {
            transform: translateX(0);
        }

        #slides-container::-webkit-scrollbar,
        #history-list::-webkit-scrollbar,
        .settings-panel-content::-webkit-scrollbar,
        #bible-verses::-webkit-scrollbar {
            width: 8px;
        }

        #slides-container::-webkit-scrollbar-track,
        #history-list::-webkit-scrollbar-track,
        .settings-panel-content::-webkit-scrollbar-track,
        #bible-verses::-webkit-scrollbar-track {
            background: transparent;
        }

        #slides-container::-webkit-scrollbar-thumb,
        #history-list::-webkit-scrollbar-thumb,
        .settings-panel-content::-webkit-scrollbar-thumb,
        #bible-verses::-webkit-scrollbar-thumb {
            background-color: #4b5563;
            border-radius: 4px;
        }

        #doc-progress-bar,
        #page-progress-bar {
            transition: width 0.3s ease-out;
        }

        /* --- Dark Theme (Default) --- */
        html.theme-dark body {
            background-color: #191919;
            color: #d1d5db;
        }

        html.theme-dark #setup-view {
            background-color: #191919;
        }

        html.theme-dark .control-btn-group,
        html.theme-dark select {
            background-color: #374151;
        }

        html.theme-dark .control-btn-group button.active {
            background-color: #4b5563;
            color: white;
        }

        html.theme-dark .history-item.active,
        .dark .callout-item.active {
            background-color: #475569 !important;
            color: white !important;
        }

        html.theme-dark .subtext-dark {
            color: #9ca3af;
        }

        html.theme-dark header,
        html.theme-dark footer {
            background-color: rgba(25, 25, 25, 0.85);
            backdrop-filter: blur(4px);
        }

        html.theme-dark .settings-panel,
        html.theme-dark .history-sidebar,
        html.theme-dark #bible-sidebar {
            background-color: rgba(31, 41, 55, 0.95);
            backdrop-filter: blur(4px);
        }

        html.theme-dark #wpm-decrease,
        html.theme-dark #wpm-increase {
            background-color: #374151
        }

        html.theme-dark blockquote {
            border-color: #4b5563;
        }

        html.theme-dark hr {
            border-color: #374151;
        }

        html.theme-dark .progress-bar-bg {
            background-color: #374151;
        }

        html.theme-dark #history-container {
            border-color: #374151;
        }

        html.theme-dark #recent-history-list button {
            background-color: #374151;
        }

        html.theme-dark #recent-history-list button:hover {
            background-color: #4b5563;
        }

        /* Notion Colors Dark */
        html.theme-dark .notion-callout.notion-default_background {
            background-color: rgba(255, 255, 255, 0.05);
        }

        html.theme-dark .notion-callout.notion-gray_background {
            background-color: #373737;
        }

        html.theme-dark .notion-callout.notion-brown_background {
            background-color: #4d3a2d;
        }

        html.theme-dark .notion-callout.notion-orange_background {
            background-color: #633d24;
        }

        html.theme-dark .notion-callout.notion-yellow_background {
            background-color: #614c1a;
        }

        html.theme-dark .notion-callout.notion-green_background {
            background-color: #25473c;
        }

        html.theme-dark .notion-callout.notion-blue_background {
            background-color: #203e58;
        }

        html.theme-dark .notion-callout.notion-purple_background {
            background-color: #44325e;
        }

        html.theme-dark .notion-callout.notion-pink_background {
            background-color: #5c2c40;
        }

        html.theme-dark .notion-callout.notion-red_background {
            background-color: #693130;
        }

        /* --- Light Theme Styles --- */
        html.theme-light body {
            background-color: #f9fafb;
            color: #111827;
        }

        html.theme-light #setup-view {
            background-color: #ffffff;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        html.theme-light h1,
        html.theme-light h2,
        html.theme-light h3,
        html.theme-light h4,
        html.theme-light #page-title {
            color: #111827;
        }

        html.theme-light input#pageId {
            background-color: #f3f4f6;
            color: #111827;
            border-color: #d1d5db;
        }

        html.theme-light header,
        html.theme-light footer {
            background-color: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(4px);
        }

        html.theme-light #clock,
        html.theme-light #overall-timer,
        html.theme-light #footer-info {
            color: #1f2937;
        }

        html.theme-light .header-btn,
        html.theme-light .footer-btn {
            background-color: #e5e7eb;
            color: #1f2937;
        }

        html.theme-light .settings-panel,
        html.theme-light .history-sidebar,
        html.theme-light #bible-sidebar {
            background-color: rgba(249, 250, 251, 0.95);
            backdrop-filter: blur(4px);
        }

        html.theme-light .control-btn-group,
        html.theme-light select {
            background-color: #e5e7eb;
        }

        html.theme-light .control-btn-group button.active {
            background-color: #ffffff;
            color: #111827;
            box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        }

        html.theme-light .history-item.active,
        html.theme-light .callout-item.active {
            background-color: #dbeafe !important;
            color: #1e40af !important;
        }

        html.theme-light .history-item.active .text-gray-400,
        html.theme-light .history-item.active .subtext-light,
        html.theme-light .callout-item.active .text-gray-400 {
            color: #1e3a8a !important;
        }

        html.theme-light .history-item .text-gray-400,
        html.theme-light .callout-item .text-gray-400 {
            color: #6b7280;
        }

        html.theme-light .history-item .font-semibold,
        html.theme-light .callout-item .font-semibold {
            color: #111827;
        }

        html.theme-light blockquote {
            color: #374151;
            border-color: #d1d5db;
        }

        html.theme-light hr {
            border-color: #e5e7eb;
        }

        html.theme-light .border-b {
            border-color: #e5e7eb;
        }

        html.theme-light #slides-container::-webkit-scrollbar-thumb,
        html.theme-light #history-list::-webkit-scrollbar-thumb,
        html.theme-light .settings-panel-content::-webkit-scrollbar-thumb,
        html.theme-light #bible-verses::-webkit-scrollbar-thumb {
            background-color: #9ca3af;
        }

        html.theme-light #wpm-decrease,
        html.theme-light #wpm-increase {
            background-color: #e5e7eb
        }

        html.theme-light .progress-bar-bg {
            background-color: #e5e7eb;
        }

        html.theme-light #history-container {
            border-color: #e5e7eb;
        }

        html.theme-light #recent-history-list button {
            background-color: #f3f4f6;
            color: #1f2937;
        }

        html.theme-light #recent-history-list button:hover {
            background-color: #e5e7eb;
        }

        /* Notion Colors Light */
        html.theme-light .notion-callout.notion-default_background {
            background-color: #f3f4f6;
        }

        html.theme-light .notion-callout.notion-gray_background {
            background-color: #e5e7eb;
        }

        html.theme-light .notion-callout.notion-brown_background {
            background-color: #fef3e5;
        }

        html.theme-light .notion-callout.notion-orange_background {
            background-color: #feefe5;
        }

        html.theme-light .notion-callout.notion-yellow_background {
            background-color: #fff9e2;
        }

        html.theme-light .notion-callout.notion-green_background {
            background-color: #e5f7f3;
        }

        html.theme-light .notion-callout.notion-blue_background {
            background-color: #e4f3ff;
        }

        html.theme-light .notion-callout.notion-purple_background {
            background-color: #f4f0ff;
        }

        html.theme-light .notion-callout.notion-pink_background {
            background-color: #fff0f7;
        }

        html.theme-light .notion-callout.notion-red_background {
            background-color: #fff0f0;
        }

        /* --- Sepia Theme --- */
        html.theme-sepia body {
            background-color: #f4e8d1;
            color: #5b4636;
        }

        html.theme-sepia #setup-view {
            background-color: #f4e8d1;
        }

        html.theme-sepia header,
        html.theme-sepia footer {
            background-color: rgba(244, 232, 209, 0.85);
            backdrop-filter: blur(4px);
        }

        html.theme-sepia .settings-panel,
        html.theme-sepia .history-sidebar,
        html.theme-sepia #bible-sidebar {
            background-color: rgba(229, 217, 193, 0.95);
        }

        html.theme-sepia .header-btn,
        html.theme-sepia .footer-btn,
        html.theme-sepia #wpm-decrease,
        html.theme-sepia #wpm-increase {
            background-color: #dcd1b8;
            color: #5b4636;
        }

        html.theme-sepia .control-btn-group,
        html.theme-sepia select {
            background-color: #dcd1b8;
        }

        html.theme-sepia .control-btn-group button.active {
            background-color: #c9bc9d;
        }

        html.theme-sepia hr,
        html.theme-sepia blockquote,
        html.theme-sepia #history-container,
        html.theme-sepia .border-b {
            border-color: #c9bc9d;
        }

        html.theme-sepia .progress-bar-bg {
            background-color: #dcd1b8;
        }

        html.theme-sepia #page-progress-bar {
            background-color: #8c6f56;
        }

        html.theme-sepia #doc-progress-bar {
            background-color: #6b5543;
        }

        html.theme-sepia .notion-callout.notion-default_background {
            background-color: rgba(91, 70, 54, 0.08);
        }

        html.theme-sepia #recent-history-list button {
            background-color: #dcd1b8;
            color: #5b4636;
        }

        html.theme-sepia #recent-history-list button:hover {
            background-color: #c9bc9d;
        }

        html.theme-sepia .notion-callout.notion-gray_background {
            background-color: #dcd1b8;
        }

        html.theme-sepia .notion-callout.notion-brown_background {
            background-color: #eaddc7;
        }

        html.theme-sepia .notion-callout.notion-orange_background {
            background-color: #e9dccb;
        }

        html.theme-sepia .notion-callout.notion-yellow_background {
            background-color: #e9e3c7;
        }

        html.theme-sepia .notion-callout.notion-green_background {
            background-color: #c7d2cc;
        }

        html.theme-sepia .notion-callout.notion-blue_background {
            background-color: #c7d2d9;
        }

        html.theme-sepia .notion-callout.notion-purple_background {
            background-color: #d6d2de;
        }

        html.theme-sepia .notion-callout.notion-pink_background {
            background-color: #ded2d7;
        }

        html.theme-sepia .notion-callout.notion-red_background {
            background-color: #ded2d2;
        }

        /* --- Light Green Theme --- */
        html.theme-light-green body {
            background-color: #ecfdf5;
            color: #065f46;
        }

        html.theme-light-green #setup-view {
            background-color: #ecfdf5;
        }

        html.theme-light-green header,
        html.theme-light-green footer {
            background-color: rgba(236, 253, 245, 0.85);
            backdrop-filter: blur(4px);
        }

        html.theme-light-green .settings-panel,
        html.theme-light-green .history-sidebar,
        html.theme-light-green #bible-sidebar {
            background-color: rgba(221, 250, 235, 0.95);
        }

        html.theme-light-green .header-btn,
        html.theme-light-green .footer-btn,
        html.theme-light-green #wpm-decrease,
        html.theme-light-green #wpm-increase {
            background-color: #d1fae5;
            color: #065f46;
        }

        html.theme-light-green .control-btn-group,
        html.theme-light-green select {
            background-color: #d1fae5;
        }

        html.theme-light-green .control-btn-group button.active {
            background-color: #a7f3d0;
        }

        html.theme-light-green hr,
        html.theme-light-green blockquote,
        html.theme-light-green #history-container,
        html.theme-light-green .border-b {
            border-color: #a7f3d0;
        }

        html.theme-light-green .progress-bar-bg {
            background-color: #d1fae5;
        }

        html.theme-light-green .notion-callout.notion-default_background {
            background-color: rgba(6, 95, 70, 0.08);
        }

        html.theme-light-green #recent-history-list button {
            background-color: #d1fae5;
            color: #065f46;
        }

        html.theme-light-green #recent-history-list button:hover {
            background-color: #a7f3d0;
        }

        html.theme-light-green .notion-callout.notion-gray_background {
            background-color: #d1fae5;
        }

        html.theme-light-green .notion-callout.notion-brown_background {
            background-color: #fef3c7;
        }

        html.theme-light-green .notion-callout.notion-orange_background {
            background-color: #ffedd5;
        }

        html.theme-light-green .notion-callout.notion-yellow_background {
            background-color: #fef9c3;
        }

        html.theme-light-green .notion-callout.notion-green_background {
            background-color: #d1fae5;
        }

        html.theme-light-green .notion-callout.notion-blue_background {
            background-color: #dbeafe;
        }

        html.theme-light-green .notion-callout.notion-purple_background {
            background-color: #e9d5ff;
        }

        html.theme-light-green .notion-callout.notion-pink_background {
            background-color: #fce7f3;
        }

        html.theme-light-green .notion-callout.notion-red_background {
            background-color: #fee2e2;
        }

        /* --- Light Blue Theme --- */
        html.theme-light-blue body {
            background-color: #e0f2fe;
            color: #0c4a6e;
        }

        html.theme-light-blue #setup-view {
            background-color: #e0f2fe;
        }

        html.theme-light-blue header,
        html.theme-light-blue footer {
            background-color: rgba(224, 242, 254, 0.85);
            backdrop-filter: blur(4px);
        }

        html.theme-light-blue .settings-panel,
        html.theme-light-blue .history-sidebar,
        html.theme-light-blue #bible-sidebar {
            background-color: rgba(207, 234, 252, 0.95);
        }

        html.theme-light-blue .header-btn,
        html.theme-light-blue .footer-btn,
        html.theme-light-blue #wpm-decrease,
        html.theme-light-blue #wpm-increase {
            background-color: #bae6fd;
            color: #0c4a6e;
        }

        html.theme-light-blue .control-btn-group,
        html.theme-light-blue select {
            background-color: #bae6fd;
        }

        html.theme-light-blue .control-btn-group button.active {
            background-color: #7dd3fc;
        }

        html.theme-light-blue hr,
        html.theme-light-blue blockquote,
        html.theme-light-blue #history-container,
        html.theme-light-blue .border-b {
            border-color: #7dd3fc;
        }

        html.theme-light-blue .progress-bar-bg {
            background-color: #bae6fd;
        }

        html.theme-light-blue .notion-callout.notion-default_background {
            background-color: rgba(12, 74, 110, 0.08);
        }

        html.theme-light-blue #recent-history-list button {
            background-color: #bae6fd;
            color: #0c4a6e;
        }

        html.theme-light-blue #recent-history-list button:hover {
            background-color: #7dd3fc;
        }

        html.theme-light-blue .notion-callout.notion-gray_background {
            background-color: #bfdbfe;
        }

        html.theme-light-blue .notion-callout.notion-brown_background {
            background-color: #fde68a;
        }

        html.theme-light-blue .notion-callout.notion-orange_background {
            background-color: #fed7aa;
        }

        html.theme-light-blue .notion-callout.notion-yellow_background {
            background-color: #fef08a;
        }

        html.theme-light-blue .notion-callout.notion-green_background {
            background-color: #d1fae5;
        }

        html.theme-light-blue .notion-callout.notion-blue_background {
            background-color: #bfdbfe;
        }

        html.theme-light-blue .notion-callout.notion-purple_background {
            background-color: #e9d5ff;
        }

        html.theme-light-blue .notion-callout.notion-pink_background {
            background-color: #fce7f3;
        }

        html.theme-light-blue .notion-callout.notion-red_background {
            background-color: #fee2e2;
        }

        /* --- Text Highlight Styles --- */
        .slide-content .text-highlight {
            padding: 2px 4px;
            border-radius: 4px;
            margin: -2px -4px;
            box-decoration-break: clone;
            -webkit-box-decoration-break: clone;
        }

        .slide-content .font-bold.text-highlight {
            display: inline-block;
        }

        /* Light Theme Highlights (Vivid Colors) */
        html.theme-light .text-highlight.notion-gray_background {
            background-color: #d1d5db;
        }

        /* gray-300 */
        html.theme-light .text-highlight.notion-brown_background {
            background-color: #fed7aa;
        }

        /* orange-200 */
        html.theme-light .text-highlight.notion-orange_background {
            background-color: #ffedd5;
        }

        /* orange-100 */
        html.theme-light .text-highlight.notion-yellow_background {
            background-color: #fef08a;
        }

        /* yellow-200 */
        html.theme-light .text-highlight.notion-green_background {
            background-color: #bbf7d0;
        }

        /* green-200 */
        html.theme-light .text-highlight.notion-blue_background {
            background-color: #bfdbfe;
        }

        /* blue-200 */
        html.theme-light .text-highlight.notion-purple_background {
            background-color: #ddd6fe;
        }

        /* purple-200 */
        html.theme-light .text-highlight.notion-pink_background {
            background-color: #fbcfe8;
        }

        /* pink-200 */
        html.theme-light .text-highlight.notion-red_background {
            background-color: #fecaca;
        }

        /* red-200 */
        /* Dark Theme Highlights */
        html.theme-dark .text-highlight.notion-gray_background {
            background-color: #373737;
        }

        html.theme-dark .text-highlight.notion-brown_background {
            background-color: #4d3a2d;
        }

        html.theme-dark .text-highlight.notion-orange_background {
            background-color: #633d24;
        }

        html.theme-dark .text-highlight.notion-yellow_background {
            background-color: #614c1a;
        }

        html.theme-dark .text-highlight.notion-green_background {
            background-color: #25473c;
        }

        html.theme-dark .text-highlight.notion-blue_background {
            background-color: #203e58;
        }

        html.theme-dark .text-highlight.notion-purple_background {
            background-color: #44325e;
        }

        html.theme-dark .text-highlight.notion-pink_background {
            background-color: #5c2c40;
        }

        html.theme-dark .text-highlight.notion-red_background {
            background-color: #693130;
        }

        /* Sepia Theme Highlights */
        html.theme-sepia .text-highlight.notion-gray_background {
            background-color: rgba(91, 70, 54, 0.2);
        }

        html.theme-sepia .text-highlight.notion-brown_background {
            background-color: #d8c1ac;
        }

        html.theme-sepia .text-highlight.notion-orange_background {
            background-color: #e6c8b4;
        }

        html.theme-sepia .text-highlight.notion-yellow_background {
            background-color: #e6d9b4;
        }

        html.theme-sepia .text-highlight.notion-green_background {
            background-color: #b9d1c9;
        }

        html.theme-sepia .text-highlight.notion-blue_background {
            background-color: #b9c9d1;
        }

        html.theme-sepia .text-highlight.notion-purple_background {
            background-color: #d1c9d9;
        }

        html.theme-sepia .text-highlight.notion-pink_background {
            background-color: #d9c9cf;
        }

        html.theme-sepia .text-highlight.notion-red_background {
            background-color: #d9c9c9;
        }

        /* Light Green Theme Highlights */
        html.theme-light-green .text-highlight.notion-gray_background {
            background-color: #d1fae5;
        }

        html.theme-light-green .text-highlight.notion-brown_background {
            background-color: #fde68a;
        }

        html.theme-light-green .text-highlight.notion-orange_background {
            background-color: #fed7aa;
        }

        html.theme-light-green .text-highlight.notion-yellow_background {
            background-color: #fef08a;
        }

        html.theme-light-green .text-highlight.notion-green_background {
            background-color: #bbf7d0;
        }

        html.theme-light-green .text-highlight.notion-blue_background {
            background-color: #bfdbfe;
        }

        html.theme-light-green .text-highlight.notion-purple_background {
            background-color: #ddd6fe;
        }

        html.theme-light-green .text-highlight.notion-pink_background {
            background-color: #fbcfe8;
        }

        html.theme-light-green .text-highlight.notion-red_background {
            background-color: #fecaca;
        }

        /* Light Blue Theme Highlights */
        html.theme-light-blue .text-highlight.notion-gray_background {
            background-color: #bae6fd;
        }

        html.theme-light-blue .text-highlight.notion-brown_background {
            background-color: #fde68a;
        }

        html.theme-light-blue .text-highlight.notion-orange_background {
            background-color: #fed7aa;
        }

        html.theme-light-blue .text-highlight.notion-yellow_background {
            background-color: #fef08a;
        }

        html.theme-light-blue .text-highlight.notion-green_background {
            background-color: #bbf7d0;
        }

        html.theme-light-blue .text-highlight.notion-blue_background {
            background-color: #93c5fd;
        }

        html.theme-light-blue .text-highlight.notion-purple_background {
            background-color: #ddd6fe;
        }

        html.theme-light-blue .text-highlight.notion-pink_background {
            background-color: #fbcfe8;
        }

        html.theme-light-blue .text-highlight.notion-red_background {
            background-color: #fecaca;
        }

        /* --- Sidebar Push Effect --- */
        #presentation-view>header,
        #presentation-view>footer,
        #presentation-view>main {
            transition: margin-left 0.3s ease-in-out, margin-right 0.3s ease-in-out, width 0.3s ease-in-out;
            width: 100%;
        }

        body.history-open #presentation-view>header,
        body.history-open #presentation-view>footer,
        body.history-open #presentation-view>main {
            margin-left: 33.3333%;
            width: calc(100% - 33.3333%);
        }

        body.bible-open #presentation-view>header,
        body.bible-open #presentation-view>footer,
        body.bible-open #presentation-view>main {
            margin-left: 33.3333%;
            width: calc(100% - 33.3333%);
        }

        body.settings-open #presentation-view>header,
        body.settings-open #presentation-view>footer,
        body.settings-open #presentation-view>main {
            margin-right: 20rem;
            /* w-80 */
            width: calc(100% - 20rem);
        }

        #history-sidebar,
        #bible-sidebar {
            width: 33.3333%;
        }

        .verse.highlighted {
            /* background-color: rgba(255, 255, 0, 0.3); /* Cor padrão */
            border-radius: 4px;
            transition: background-color 0.2s, color 0.2s, box-shadow 0.2s;
        }

        /* --- Estilos de Destaque para Versículos --- */

        /* 1. Preenchimento (Fill) */
        #bible-verses.style-fill.highlight-yellow .verse.highlighted { background-color: rgba(254, 240, 138, 0.6); }
        #bible-verses.style-fill.highlight-blue .verse.highlighted { background-color: rgba(147, 197, 253, 0.6); }
        #bible-verses.style-fill.highlight-green .verse.highlighted { background-color: rgba(134, 239, 172, 0.6); }
        #bible-verses.style-fill.highlight-pink .verse.highlighted { background-color: rgba(249, 168, 212, 0.6); }
        #bible-verses.style-fill.highlight-indigo .verse.highlighted { background-color: rgba(165, 180, 252, 0.6); }

        /* Cores de Destaque para Versículos - Correção Tema Escuro */
        html.theme-dark #bible-verses.style-fill .verse.highlighted,
        html.theme-sepia #bible-verses.style-fill .verse.highlighted {
            color: #111827; /* Texto escuro para melhor contraste */
        }
        /* Ajuste de opacidade para melhor legibilidade no tema escuro */
        html.theme-dark #bible-verses.style-fill.highlight-yellow .verse.highlighted,
        html.theme-sepia #bible-verses.style-fill.highlight-yellow .verse.highlighted { background-color: rgba(254, 240, 138, 0.8); }
        html.theme-dark #bible-verses.style-fill.highlight-blue .verse.highlighted,
        html.theme-sepia #bible-verses.style-fill.highlight-blue .verse.highlighted { background-color: rgba(147, 197, 253, 0.8); }
        html.theme-dark #bible-verses.style-fill.highlight-green .verse.highlighted,
        html.theme-sepia #bible-verses.style-fill.highlight-green .verse.highlighted { background-color: rgba(134, 239, 172, 0.8); }
        html.theme-dark #bible-verses.style-fill.highlight-pink .verse.highlighted,
        html.theme-sepia #bible-verses.style-fill.highlight-pink .verse.highlighted { background-color: rgba(249, 168, 212, 0.8); }
        html.theme-dark #bible-verses.style-fill.highlight-indigo .verse.highlighted,
        html.theme-sepia #bible-verses.style-fill.highlight-indigo .verse.highlighted { background-color: rgba(165, 180, 252, 0.8); }


        /* 2. Cor da Fonte (Font Color) */
        /* Cores para temas escuros */
        html.theme-dark #bible-verses.style-font.highlight-yellow .verse.highlighted,
        html.theme-sepia #bible-verses.style-font.highlight-yellow .verse.highlighted { color: #fef08a; }
        html.theme-dark #bible-verses.style-font.highlight-blue .verse.highlighted,
        html.theme-sepia #bible-verses.style-font.highlight-blue .verse.highlighted { color: #93c5fd; }
        html.theme-dark #bible-verses.style-font.highlight-green .verse.highlighted,
        html.theme-sepia #bible-verses.style-font.highlight-green .verse.highlighted { color: #86efac; }
        html.theme-dark #bible-verses.style-font.highlight-pink .verse.highlighted,
        html.theme-sepia #bible-verses.style-font.highlight-pink .verse.highlighted { color: #f9a8d4; }
        html.theme-dark #bible-verses.style-font.highlight-indigo .verse.highlighted,
        html.theme-sepia #bible-verses.style-font.highlight-indigo .verse.highlighted { color: #a5b4fc; }
        /* Cores para temas claros */
        html:not(.theme-dark):not(.theme-sepia) #bible-verses.style-font.highlight-yellow .verse.highlighted { color: #ca8a04; }
        html:not(.theme-dark):not(.theme-sepia) #bible-verses.style-font.highlight-blue .verse.highlighted { color: #2563eb; }
        html:not(.theme-dark):not(.theme-sepia) #bible-verses.style-font.highlight-green .verse.highlighted { color: #16a34a; }
        html:not(.theme-dark):not(.theme-sepia) #bible-verses.style-font.highlight-pink .verse.highlighted { color: #db2777; }
        html:not(.theme-dark):not(.theme-sepia) #bible-verses.style-font.highlight-indigo .verse.highlighted { color: #4f46e5; }

        /* 3. Contorno (Outline) */
        #bible-verses.style-outline .verse.highlighted {
            box-shadow: 0 0 0 2px var(--highlight-color);
        }
        #bible-verses.style-outline.highlight-yellow { --highlight-color: #facc15; }
        #bible-verses.style-outline.highlight-blue { --highlight-color: #60a5fa; }
        #bible-verses.style-outline.highlight-green { --highlight-color: #4ade80; }
        #bible-verses.style-outline.highlight-pink { --highlight-color: #f472b6; }
        #bible-verses.style-outline.highlight-indigo { --highlight-color: #818cf8; }

        .bible-ref-link {
            cursor: pointer;
            text-decoration: underline;
            text-decoration-style: dotted;
        }
    </style>


</head>

<body class="flex flex-col items-center justify-center min-h-screen">
    <!-- Remover flex do body, pois o #app já é flex -->
    <div id="app" class="w-full flex flex-col min-h-screen">
        <!-- Tela de Configuração Inicial -->
        <div id="setup-view" class="w-full h-full flex flex-col items-center justify-center">
            <div class="w-full max-w-xl mx-auto p-8 rounded-xl space-y-6">
                <h1 class="text-3xl font-bold text-center">Leitor de esboços</h1>
                <p class="text-center text-gray-400">
                    Carregue seu esboço a partir de um arquivo .docx, .pdf ou uma página do Notion.
                </p>
                <div class="flex justify-center gap-8 mb-4">
                    <button id="upload-doc-btn" title="Carregar DOCX" class="flex flex-col items-center focus:outline-none">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fd/Microsoft_Office_Word_%282019%E2%80%93present%29.svg/512px-Microsoft_Office_Word_%282019%E2%80%93present%29.svg.png" alt="DOCX" class="w-12 h-12 mb-1">
                        <span class="text-xs text-gray-500">DOCX</span>
                    </button>
                    <button id="upload-pdf-btn" title="Carregar PDF" class="flex flex-col items-center focus:outline-none">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/PDF_file_icon.svg/267px-PDF_file_icon.svg.png?20220802235851" alt="PDF" class="w-12 h-12 mb-1">
                        <span class="text-xs text-gray-500">PDF</span>
                    </button>
                    <button id="notion-btn" title="Carregar do Notion" class="flex flex-col items-center focus:outline-none">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Notion-logo.svg/2048px-Notion-logo.svg.png" alt="Notion" class="w-12 h-12 mb-1">
                        <span class="text-xs text-gray-500">Notion</span>
                    </button>
                </div>
                <input type="file" id="file-input" accept=".doc,.docx,.pdf" class="hidden">
                <div id="drop-zone" class="w-full border-2 border-dashed border-gray-400 rounded-lg p-6 text-center text-gray-400 cursor-pointer transition hover:border-blue-500">
                    Arraste e solte seu arquivo aqui (.docx ou .pdf)
                </div>
                <input type="text" id="pageId" placeholder="Cole a URL ou ID da sua página do Notion aqui"
                    class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition mt-4">
                <div class="flex gap-4">
                    <button id="generate-btn"
                        class="flex-1 bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition">Visualizar</button>
                    <button id="preview-btn"
                        class="flex-1 bg-gray-600 text-white font-bold py-3 rounded-lg hover:bg-gray-700 transition">Ver
                        Tutorial</button>
                </div>
                <div id="history-container" class="pt-4 border-t hidden">
                    <h3 class="text-sm font-semibold text-center text-gray-500 mb-3">Acessos Recentes</h3>
                    <div id="recent-history-list" class="space-y-2">
                        <!-- Injetado via JS -->
                    </div>
                </div>
                <div id="error-message" class="text-red-500 text-center font-medium hidden"></div>
            </div>
        </div><!-- Tela de Apresentação -->
        <div id="presentation-view" class="hidden w-full h-full flex-col relative overflow-hidden">
            <header class="w-full p-4 flex justify-between items-center fixed top-0 left-0 z-20">
                <div class="w-1/3 flex items-center gap-2">
                    <button id="home-btn" title="Voltar ao Início" class="header-btn p-2.5 rounded-lg transition"></button>
                    <span id="clock" class="text-lg font-mono"></span>
                </div>
                <div class="w-1/3 text-center">
                    <h1 id="page-title" class="text-sm font-semibold truncate"></h1>
                </div>
                <div class="w-1/3 flex justify-end items-center gap-2">
                    <button id="auto-scroll-toggle-btn" title="Rolagem Automática"
                        class="header-btn p-2.5 rounded-lg transition"></button>
                    <div id="main-timer-controls" class="header-btn flex items-center gap-2 p-2 rounded-lg">
                        <button id="timer-play-pause-btn" title="Iniciar/Pausar Tempo" class="p-0.5"></button>
                        <span id="overall-timer" class="text-lg font-mono" title="Tempo total da sessão">0:00</span>
                    </div>
                    <button id="settings-toggle-btn" type="button" title="Ajustes"
                        class="header-btn p-2.5 rounded-lg transition"></button>
                </div>
            </header>
            <main id="slides-container"
                class="w-full h-full flex-1 flex flex-col items-center overflow-y-auto px-12 pt-24 pb-24"></main>
            <footer id="footer-bar" class="w-full p-4 flex justify-between items-center fixed bottom-0 left-0 z-20">
                <div class="w-1/4 flex items-center gap-2">
                    <button id="history-toggle-btn" type="button" title="Navegação / Histórico"
                        class="footer-btn hidden p-3 rounded-full transition"></button>
                    <button id="bible-toggle-btn-footer" type="button" title="Bíblia"
                        class="footer-btn p-3 rounded-full transition"></button>
                </div>
                <div id="footer-center" class="w-1/2 px-4">
                    <!-- Conteúdo do rodapé injetado via JS -->
                </div>
                <div class="w-1/4 flex justify-end items-center gap-2">
                    <button id="prev-btn" type="button" title="Anterior"
                        class="footer-btn p-3 rounded-full disabled:opacity-20 transition"></button>
                    <button id="next-btn" type="button" title="Próximo"
                        class="footer-btn p-3 rounded-full disabled:opacity-20 transition"></button>
                </div>
            </footer>
            <aside id="history-sidebar" class="history-sidebar fixed top-0 left-0 h-full shadow-2xl z-40 flex flex-col">
                <div class="p-4 flex justify-between items-center border-b">
                    <h3 class="font-bold text-lg">Navegação</h3>
                    <button id="close-history-btn" type="button" title="Fechar" class="p-2"></button>
                </div>
                <div id="history-list" class="flex-1 overflow-y-auto"></div>
            </aside>
            <aside id="bible-sidebar" class="fixed top-0 left-0 h-full shadow-2xl z-40 flex flex-col">
                <div class="p-4 flex justify-between items-center border-b">
                    <h3 class="font-bold text-lg">Bíblia</h3>
                    <button id="close-bible-btn" type="button" title="Fechar" class="p-2"></button>
                </div>
                <div class="p-2 space-y-2 border-b">
                    <select id="bible-version-select"
                        class="w-full p-2 rounded-md border-transparent focus:ring-2 focus:ring-blue-500"></select>
                    <div class="grid grid-cols-2 gap-2">
                        <select id="bible-book-select"
                            class="w-full p-2 rounded-md border-transparent focus:ring-2 focus:ring-blue-500"></select>
                        <select id="bible-chapter-select"
                            class="w-full p-2 rounded-md border-transparent focus:ring-2 focus:ring-blue-500"></select>
                    </div>
                </div>
                <div id="bible-verses" class="flex-1 overflow-y-auto p-4 space-y-3 text-sm pb-20"></div>
                <div id="bible-nav-footer" class="p-2 border-t flex justify-between items-center">
                    <button id="bible-prev-chapter-btn" type="button" title="Capítulo Anterior" class="footer-btn p-3 rounded-full disabled:opacity-20 transition"></button>
                    <button id="bible-next-chapter-btn" type="button" title="Próximo Capítulo" class="footer-btn p-3 rounded-full disabled:opacity-20 transition"></button>
                </div>
            </aside>
            <aside id="settings-panel" class="settings-panel fixed top-0 right-0 h-full w-80 shadow-2xl z-40 flex flex-col">
                <div class="p-4 flex justify-between items-center border-b">
                    <h3 class="font-bold text-lg">Ajustes</h3>
                    <button id="close-settings-btn" type="button" title="Fechar" class="p-2"></button>
                </div>
                <div class="settings-panel-content flex-1 p-6 space-y-8 overflow-y-auto">
                    <div>
                        <h4 class="font-semibold mb-3">Modo de Exibição</h4>
                        <div class="control-btn-group flex rounded-md p-1">
                            <button data-setting="displayMode" data-value="slides" type="button"
                                class="flex-1 px-2 py-1 rounded">Páginas</button>
                            <button data-setting="displayMode" data-value="scroll" type="button"
                                class="flex-1 px-2 py-1 rounded">Rolagem</button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Cor da Página</h4>
                        <div class="flex justify-around items-center p-1">
                            <button data-setting="theme" data-value="light"
                                class="theme-btn w-8 h-8 rounded-full bg-white border-2" title="Claro"></button>
                            <button data-setting="theme" data-value="dark"
                                class="theme-btn w-8 h-8 rounded-full bg-[#191919] border-2" title="Escuro"></button>
                            <button data-setting="theme" data-value="sepia"
                                class="theme-btn w-8 h-8 rounded-full bg-[#f4e8d1] border-2" title="Sépia"></button>
                            <button data-setting="theme" data-value="light-green"
                                class="theme-btn w-8 h-8 rounded-full bg-[#ecfdf5] border-2" title="Verde Claro"></button>
                            <button data-setting="theme" data-value="light-blue"
                                class="theme-btn w-8 h-8 rounded-full bg-[#e0f2fe] border-2" title="Azul Claro"></button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Versão da Bíblia Padrão</h4>
                         <select id="default-bible-version-select" data-setting="bibleVersion"
                            class="w-full p-2 rounded-md border-transparent focus:ring-2 focus:ring-blue-500"></select>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Estilo de Destaque (Versículo)</h4>
                        <div class="control-btn-group flex rounded-md p-1">
                            <button data-setting="verseHighlightStyle" data-value="fill" class="flex-1 px-2 py-1 rounded">Preencher</button>
                            <button data-setting="verseHighlightStyle" data-value="font" class="flex-1 px-2 py-1 rounded">Fonte</button>
                            <button data-setting="verseHighlightStyle" data-value="outline" class="flex-1 px-2 py-1 rounded">Contorno</button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Cor de Destaque (Versículo)</h4>
                        <div class="flex justify-around items-center p-1">
                            <button data-setting="verseHighlightColor" data-value="highlight-yellow" class="theme-btn w-8 h-8 rounded-full bg-yellow-300 border-2" title="Amarelo"></button>
                            <button data-setting="verseHighlightColor" data-value="highlight-green" class="theme-btn w-8 h-8 rounded-full bg-green-300 border-2" title="Verde"></button>
                            <button data-setting="verseHighlightColor" data-value="highlight-blue" class="theme-btn w-8 h-8 rounded-full bg-blue-300 border-2" title="Azul"></button>
                            <button data-setting="verseHighlightColor" data-value="highlight-indigo" class="theme-btn w-8 h-8 rounded-full bg-indigo-300 border-2" title="Índigo"></button>
                            <button data-setting="verseHighlightColor" data-value="highlight-pink" class="theme-btn w-8 h-8 rounded-full bg-pink-300 border-2" title="Rosa"></button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Margens</h4>
                        <div class="control-btn-group flex rounded-md p-1">
                            <button data-setting="textWidth" data-value="max-w-[33vw]"
                                class="flex-1 px-2 py-1 rounded">Estreito</button>
                            <button data-setting="textWidth" data-value="max-w-[66vw]"
                                class="flex-1 px-2 py-1 rounded">Normal</button>
                            <button data-setting="textWidth" data-value="max-w-full"
                                class="flex-1 px-2 py-1 rounded">Largo</button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Posicionamento Horizontal</h4>
                        <div class="control-btn-group flex rounded-md p-1">
                            <button data-setting="contentAlign" data-value="items-start"
                                class="flex-1 px-2 py-1 rounded flex items-center justify-center"
                                title="Alinhar à Esquerda"></button>
                            <button data-setting="contentAlign" data-value="items-center"
                                class="flex-1 px-2 py-1 rounded flex items-center justify-center"
                                title="Centralizar"></button>
                            <button data-setting="contentAlign" data-value="items-end"
                                class="flex-1 px-2 py-1 rounded flex items-center justify-center"
                                title="Alinhar à Direita"></button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Alinhamento do Texto</h4>
                         <div class="control-btn-group flex rounded-md p-1">
                            <button data-setting="textAlign" data-value="text-left"
                                class="flex-1 px-2 py-1 rounded flex items-center justify-center"></button>
                            <button data-setting="textAlign" data-value="text-center"
                                class="flex-1 px-2 py-1 rounded flex items-center justify-center"></button>
                            <button data-setting="textAlign" data-value="text-right"
                                class="flex-1 px-2 py-1 rounded flex items-center justify-center"></button>
                            <button data-setting="textAlign" data-value="text-justify"
                                class="flex-1 px-2 py-1 rounded flex items-center justify-center"></button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Fonte</h4>
                        <div class="control-btn-group flex rounded-md p-1">
                            <button data-setting="fontFamily" data-value="font-sans"
                                class="flex-1 px-2 py-1 rounded font-sans">Inter</button>
                            <button data-setting="fontFamily" data-value="font-serif"
                                class="flex-1 px-2 py-1 rounded font-serif">Merriweather</button>
                            <button data-setting="fontFamily" data-value="font-display"
                                class="flex-1 px-2 py-1 rounded font-display">Poppins</button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Tamanho da Fonte (Texto)</h4>
                        <div class="control-btn-group flex rounded-md p-1">
                             <button data-setting="fontSize" data-value="0" class="flex-1 px-2 py-1 rounded">P</button>
                             <button data-setting="fontSize" data-value="1" class="flex-1 px-2 py-1 rounded">M</button>
                             <button data-setting="fontSize" data-value="2" class="flex-1 px-2 py-1 rounded">G</button>
                             <button data-setting="fontSize" data-value="3" class="flex-1 px-2 py-1 rounded">XG</button>
                             <button data-setting="fontSize" data-value="4" class="flex-1 px-2 py-1 rounded">2XG</button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Tamanho da Fonte (Destaques)</h4>
                        <div class="control-btn-group flex rounded-md p-1">
                            <button data-setting="calloutFontSize" data-value="0"
                                class="flex-1 px-2 py-1 rounded">P</button>
                            <button data-setting="calloutFontSize" data-value="1"
                                class="flex-1 px-2 py-1 rounded">M</button>
                            <button data-setting="calloutFontSize" data-value="2"
                                class="flex-1 px-2 py-1 rounded">G</button>
                            <button data-setting="calloutFontSize" data-value="3"
                                class="flex-1 px-2 py-1 rounded">XG</button>
                            <button data-setting="calloutFontSize" data-value="4"
                                class="flex-1 px-2 py-1 rounded">2XG</button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Tamanho da Fonte (Bíblia)</h4>
                        <div class="control-btn-group flex rounded-md p-1">
                            <button data-setting="bibleFontSize" data-value="0"
                                class="flex-1 px-2 py-1 rounded">P</button>
                            <button data-setting="bibleFontSize" data-value="1"
                                class="flex-1 px-2 py-1 rounded">M</button>
                            <button data-setting="bibleFontSize" data-value="2"
                                class="flex-1 px-2 py-1 rounded">G</button>
                            <button data-setting="bibleFontSize" data-value="3"
                                class="flex-1 px-2 py-1 rounded">XG</button>
                            <button data-setting="bibleFontSize" data-value="4"
                                class="flex-1 px-2 py-1 rounded">2XG</button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Espaçamento entre Linhas</h4>
                        <div class="control-btn-group flex rounded-md p-1">
                            <button data-setting="lineHeight" data-value="leading-relaxed"
                                class="flex-1 px-2 py-1 rounded">Normal</button>
                            <button data-setting="lineHeight" data-value="leading-loose"
                                class="flex-1 px-2 py-1 rounded">Largo</button>
                            <button data-setting="lineHeight" data-value="leading-extra"
                                class="flex-1 px-2 py-1 rounded">Extra</button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-3">Andamento no Rodapé</h4>
                        <div class="control-btn-group flex rounded-md p-1">
                            <button data-setting="progressDisplay" data-value="time"
                                class="flex-1 px-2 py-1 rounded">Tempo</button>
                            <button data-setting="progressDisplay" data-value="percent"
                                class="flex-1 px-2 py-1 rounded">%</button>
                        </div>
                    </div>
                    <div id="wpm-controls" class="pt-4 border-t">
                        <h4 class="font-semibold mb-2">Velocidade de Leitura (PPM)</h4>
                        <p class="text-xs text-gray-400 mb-2">Isso também ajusta a velocidade da Rolagem Automática.</p>
                        <div class="flex items-center justify-between">
                            <button id="wpm-decrease" class="px-3 py-1 rounded transition">-</button>
                            <span id="wpm-display" class="font-mono text-center text-lg">180</span>
                            <button id="wpm-increase" class="px-3 py-1 rounded transition">+</button>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
        <div id="loading-view" class="hidden w-full h-full flex-col items-center justify-center">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400"></div>
        </div>


    </div>
    <script src="dist/app.js"></script>
</body>

</html>